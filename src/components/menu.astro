---
import TitleCard from "./title-card.astro";
import MenuItem from "./menu-item.astro";
---

<div class='menu-button'>
  <div>
    <div class='menu-bar'></div>
    <div class='menu-bar'></div>
    <div class='menu-bar'></div>
  </div>
</div>
<div class='menu'>
  <div id='close-menu' class='close-menu'>X</div>
  <div class='menu-items'>
    <MenuItem link='/' title='SKILLS' />
    <MenuItem link='/freelance' title='FREELANCE' />
    <MenuItem link='/blog' title='BLOG' />
    <MenuItem link='/portfolio' title='PORTFOLIO' />
    <MenuItem link='/contact' title='CONTACT' />
  </div>
</div>
<TitleCard primary={false} />
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuButton = document.querySelector(".menu-button");
    const menu = document.querySelector(".menu");
    const closeMenu = document.getElementById("close-menu");
    const card = document.getElementById("alternate-title-card");

    menuButton?.addEventListener("click", () => {
      menu?.classList.add("reveal-menu");
      card?.classList.add("reveal");
      menuButton?.classList.add("display-none");
    });

    closeMenu?.addEventListener("click", () => {
      menu?.classList.remove("reveal-menu");
      card?.classList.remove("reveal");
      menuButton?.classList.remove("display-none");
    });
  });
</script>
<style>
  .menu {
    position: fixed;
    top: 0;
    left: 103vw;
    padding-top: 8px;
    padding-left: 8px;
    width: 100vw;
    height: 100vh;
    background-color: ghostwhite;
    z-index: 110;
  }

  .menu-items {
    display: flex;
    margin-top: 14rem;
    margin-left: -0.5rem;
    width: 100%;
    flex-direction: column;
    align-items: center;
    height: 100%;
  }

  .menu-button {
    position: fixed;
    top: 2px;
    right: -5px;
    width: 55px;
    height: 50px;
    margin: 0.5rem;
    cursor: pointer;
    animation: bar-width 10s linear;
  }

  .display-none {
    display: none;
  }

  .reveal-menu {
    left: 0;
    animation: revealMenu 1s forwards;
  }

  .menu-bar {
    width: 110%;
    height: 13px;
    margin: 0.7rem;
    background-color: darkorange;
    animation: bar-width 6s infinite linear 3s;
  }

  .menu-button:hover {
    width: 70px;
  }

  .close-menu {
    position: absolute;
    display: flex;
    width: 50px;
    height: 50px;
    color: red;
    top: 0rem;
    right: 1.5rem;
    font-size: 4rem;
    flex-direction: row;
    justify-content: flex-end;
    cursor: pointer;
    z-index: 200;
  }

  .close-menu:hover {
    color: firebrick;
  }

  @media (max-width: 568px) {
    .menu {
      width: 101vw;
    }
  }

  @keyframes revealMenu {
    0% {
      transform: translateX(101vw);
    }
    100% {
      transform: translateX(0vw);
    }
  }

  @keyframes bar-width {
    0% {
      transform: translateX(0);
    }
    3% {
      transform: translateX(-10px);
    }
    7% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(0);
    }
  }
</style>
